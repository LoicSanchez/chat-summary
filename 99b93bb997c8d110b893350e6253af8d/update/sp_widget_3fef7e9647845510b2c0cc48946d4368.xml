<?xml version="1.0" encoding="UTF-8"?><record_update table="sp_widget">
    <sp_widget action="INSERT_OR_UPDATE">
        <category>custom</category>
        <client_script><![CDATA[api.controller=function($rootScope) {
	var c = this;
	var selectedItem = {};

	c.select = function(item) {
		selectedItem = item;
		$rootScope.$emit('selectItem', item);
	};
	c.isSelected = function(item){
		if (item.sysId == selectedItem.sysId) {
			return "is-selected";
		} else {
			return "";
		}
	};
};]]></client_script>
        <controller_as>c</controller_as>
        <css>.list-convo {&#13;
  padding: 5px;&#13;
  padding-left: 10px;&#13;
}&#13;
&#13;
.list-convo:hover {&#13;
  background-color: rgba(221, 237, 233, 0.35);&#13;
}&#13;
&#13;
.is-selected {&#13;
  background-color: rgb(221, 237, 233);&#13;
  border-left: 3px solid #44635b;&#13;
}&#13;
&#13;
.list {&#13;
  height: 570px;&#13;
  border-right: 1px solid lightgrey;&#13;
  background-color: white;&#13;
}&#13;
&#13;
.list-convo-header {&#13;
  margin-bottom: 20px;&#13;
  background-color: white;&#13;
  border-bottom: 1px solid grey;&#13;
  padding: 10px;&#13;
}</css>
        <data_table>sp_instance</data_table>
        <demo_data/>
        <description/>
        <docs/>
        <field_list/>
        <has_preview>false</has_preview>
        <id/>
        <internal>false</internal>
        <link><![CDATA[function link(scope, element, attrs, controller) {
  
}]]></link>
        <name>Conversation list</name>
        <option_schema/>
        <public>false</public>
        <roles/>
        <script><![CDATA[(function() {
	
	var TABLE = gs.getProperty("x_snc_samurizer.samurazier.conversation.table");
	var TEXT_FIELD = gs.getProperty("x_snc_samurizer.samurazier.conversation.textField");
	var SUMMARY_FIELD = gs.getProperty("x_snc_samurizer.samurazier.conversation.summaryField");
	
	var gr = new GlideRecord(TABLE);
	gr.addActiveQuery();
	gr.chooseWindow(0, 10);
	gr.orderBy('sys_created_on');
	gr.query();
	
	data.list =[];

	var i=1;
	while (gr.next()) {
		var obj = {"name": "Conversation " + i, "sysId": gr.getUniqueValue()};
		data.list.push(obj);
		i++;
	}

})();]]></script>
        <servicenow>false</servicenow>
        <sys_class_name>sp_widget</sys_class_name>
        <sys_created_by>loic</sys_created_by>
        <sys_created_on>2022-06-15 05:39:32</sys_created_on>
        <sys_id>3fef7e9647845510b2c0cc48946d4368</sys_id>
        <sys_mod_count>10</sys_mod_count>
        <sys_name>Conversation list</sys_name>
        <sys_package display_value="chat summarizer" source="x_snc_samurizer">99b93bb997c8d110b893350e6253af8d</sys_package>
        <sys_policy/>
        <sys_scope display_value="chat summarizer">99b93bb997c8d110b893350e6253af8d</sys_scope>
        <sys_update_name>sp_widget_3fef7e9647845510b2c0cc48946d4368</sys_update_name>
        <sys_updated_by>loic</sys_updated_by>
        <sys_updated_on>2022-06-15 13:14:19</sys_updated_on>
        <template><![CDATA[<div class="list">
  <div class="list-convo-header">
    My Conversations
  </div>
  <div ng-repeat="item in c.data.list" class="list-convo" ng-class="c.isSelected(item)">
    <span ng-click="c.select(item)">{{item.name}}</span>
  </div>
</div>]]></template>
    </sp_widget>
</record_update>
